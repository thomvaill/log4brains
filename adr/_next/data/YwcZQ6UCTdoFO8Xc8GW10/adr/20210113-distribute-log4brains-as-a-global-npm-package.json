{"pageProps":{"projectName":"Log4brains","currentAdr":{"slug":"20210113-distribute-log4brains-as-a-global-npm-package","package":null,"title":"Distribute Log4brains as a global NPM package","status":"accepted","supersededBy":null,"tags":[],"deciders":[],"body":{"enhancedMdx":"\nTechnical Story: <https://github.com/thomvaill/log4brains/issues/14#issuecomment-750154907>\n\n## Context and Problem Statement\n\nLog4brains (`v1.0.0-beta.4`) installation procedure is currently optimized for JS projects and looks like this:\n\n- Run `npx init-log4brains`\n- Which installs locally `@log4brains/cli` and `@log4brains/web`\n- And creates custom entries in `package.json`'s `scripts` section:\n  - `\"log4brains-preview\": \"log4brains-web preview\"`\n  - `\"log4brains-build\": \"log4brains-web build\"`\n  - `\"adr\": \"log4brains adr\"`\n\nFor non-JS projects, you have to install manually the packages and the `npx init-log4brains` script does not work.\n\nSince Log4brains is intended for all projects, not especially JS ones, we have to make the installation procedure simpler and language-agnostic.\n\n## Decision Drivers <!-- optional -->\n\n- Simplicity of the installation procedure\n- Language agnostic\n- Initialization script works on any kind of project\n- Faster \"getting started\"\n\n## Decision Outcome\n\nThe new installation procedure is now language agnostic and will be the following:\n\n```bash\nnpm install -g log4brains\nlog4brains init\n```\n\nLog4brains will be distributed as a global NPM package named `log4brains`, which provides a global `log4brains` command.\n\n- This global package will require the existing `@log4brains/cli` and `@log4brains/web` packages\n- `init-log4brains` will be renamed to `@log4brains/init` and required as a dependency\n\n### Consequences\n\nFor a JS project, it is now impossible to pin Log4brains to a specific version.\nWe may implement a [xojs/xo](https://github.com/xojs/xo)-like behavior later: \"the CLI will use your local install of XO when available, even when run globally.\"\n\n## Links\n\n- [Related GitHub issue](https://github.com/thomvaill/log4brains/issues/14#issuecomment-750154907)\n"},"creationDate":"2021-01-13T17:48:47.000Z","lastEditDate":"2021-01-13T18:22:08.000Z","lastEditAuthor":"Thomas Vaillant","publicationDate":"2021-01-13T22:59:59.000Z","file":{"relativePath":"docs/adr/20210113-distribute-log4brains-as-a-global-npm-package.md","absolutePath":"/home/runner/work/log4brains/log4brains/docs/adr/20210113-distribute-log4brains-as-a-global-npm-package.md"},"repository":{"provider":"github","viewUrl":"https://github.com/thomvaill/log4brains/blob/master/docs/adr/20210113-distribute-log4brains-as-a-global-npm-package.md"}},"l4bVersion":""},"__N_SSG":true}